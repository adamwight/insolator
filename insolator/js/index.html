<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript" src="util.js"></script>
<script type="text/javascript" src="math.js"></script>
<script type="text/javascript" src="datetime.js"></script>
<script type="text/javascript" src="observer.js"></script>
<script type="text/javascript" src="planets.js"></script>
<script type="text/javascript" src="sun.js"></script>

<script type="text/javascript" src="rt.js"></script>

<script type="text/javascript" language="JavaScript">
   var argstr = location.search.substring(1,location.search.length);

function generate_scene_objects()
{
    //bilinear = getl("bicheck").checked;
    var bitfunc = bilinear ? bitmap_bi : bitmap;
    var tilefunc = bilinear ? tilebitmap_bi : tilebitmap;
    
    plane(0,-70,0, 0,-70,-100, -200,-70,0, 1, 0.6,1.0,32, 0.4).
            setuv(300,0,0, 0,0,300, 0,0, bitfunc).setbitmap("textures/onix-pina.jpg");
    
    disc(0,60,140,	0,0,-1,		150, 1, 0.5,1.0,64, 0.6).		// far
            setuv(300,0,0, 0,300,0, 0.5,0.5, bitfunc).setbitmap("textures/onix-pina.jpg");


    var t = new Date().getTime() + framenum * 1000 * 3600;
    reset1(new Date(t));
    //alert(local_sidereal(observer));
    var sun_altaz = get_sun(observer);
    var m_pi = 3.141592654/180;
    //alert(sun_altaz[1]);
    var x = 100 * Math.cos(sun_altaz[0] * m_pi) * Math.sin(sun_altaz[1] * m_pi);
    var y = 100 * Math.cos(sun_altaz[0] * m_pi) * Math.cos(sun_altaz[1] * m_pi);
    var z = 100 * Math.sin(sun_altaz[0] * m_pi);
    light(x, y, z, 1.0);
}
</script>

<style type="text/css">
body {
	background-color: #000;
	color			: #fff;
	font-family		: verdana;
	line-height		: 18px;
}
table {
	font-family		: verdana;
	line-height		: 18px;
}
canvas {
	border			: 1px solid #fff;
}
input {
	line-height		: 16px;
	border			: 1px solid #fff;
	padding			: 0px;
	margin			: 2px;
}
</style>

</head>

<body onload="load(); reset1(new Date());">
Size: <select onchange="changesize()" id="sizesel">
		<option value="100x80">100x80</option>
		<option value="200x160">200x160</option>
		<option value="320x256" selected="selected">320x256</option>
		<option value="400x320">400x320</option>
		<option value="500x400">500x400</option>
		<option value="640x512">640x512</option>
		<option value="800x640">800x640</option>
		<option value="1200x960">1200x960</option>
		<option value="1680x1050">1680x1050 (URMENTAL!)</option>
	</select>
	Anti-alias: <input onchange="changeaa()" id="aacheck" type="checkbox">
<!--	Bilinear Filter: <input type=checkbox id="bicheck" />-->

<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td align="center" valign="top">
	<br> <!-- 400 x 450      800x640    600x480-->
	<div id="canvdiv" style="width: 320px; height: 256px; border: 1px solid rgb(0, 0, 0); left: 0px;">
		<canvas id="canv" width="320" height="256"></canvas>
	</div><br>
	Viewpoint 
	x:<input value="-85" size="6" id="xangle" type="text">
	y:<input value="90" size="6" id="yangle" type="text">
	z:<input value="-260" size="6" id="zangle" type="text">
	<button onclick="randomview()">Random</button><br><br>
	<button onclick="load()">Render</button><br><br>
	<div id="progress">Idle</div>
	<div id="progress2">&nbsp;</div>
	<div id="msg">&nbsp;</div>
	<div id="dbg">&nbsp;</div>
</td>
</tr></tbody></table>

<form name="table1" action="javascript:void 0;">
<table class="bluebox" border="1" cellpadding="5">
<tr>
<th colspan="3"><a href="notes.html#Place">Location for observations</a></th>
<tr>
<td align="center" colspan="2">Select&nbsp;from&nbsp;this&nbsp;list&nbsp;or&nbsp;enter&nbsp;below</td>
<td align="center">
<!-- The Place select is altered below by JavaScript -->
<select name="Place" onchange= "updateplace()">
<option>Select your home location</option>
<option>unknown</option>
</select></td>
</tr>
<tr>
<td align="left">Name <input type="text" size="20" name="place_name" onchange="updatename()"></td>
<td align="center">
 <select name="North" onchange="updatell()">
 <option>North</option>
 <option>South</option>
 </select>
 <input type="text" size="9" name="Latitude" onchange="updatell()">
</td>
<td align="center">
 <select name="West" onchange="updatell()">
 <option>West</option>
 <option>East</option>
 </select>
 <input type="text" size="9" name="Longitude" onchange="updatell()">
</td>
</tr>

<tr>
<th colspan="3"><a href="notes.html#Place">Date and time at location for observations</a></th>
</tr>
<tr>
<td align="CENTER">Date <INPUT type="text" size="10" name="local_date"
    value="" onchange="updatelocal(false)"></td>
<td align="CENTER" colspan="2">
  Civil Time <INPUT type="text" size="8" name= "civil_time" value="" onchange="updatelocal(false)">
  Time Zone <INPUT type="text" size="6" name= "ut_offset" value="" onchange="updatelocal(true)">
  <select name="TZ_WE" onchange="updatelocal(true)">
    <option>West</option>
    <option>East</option>
  </select>
 <input type="checkbox" name="dst_check" value="" onclick="updatelocal(true)">DST
</td>
</tr>

<tr>
<td align="center">Julian Date <input type="text" size="10" name= "julian"
    value="" onchange="jdtozdt()"></td>
<td align="center">
 <select name="sel_time_opt" onchange="rewrite1()">
 <option SELECTED>UTC Time</option>
 <option>Local Time</option>
 <option>Solar Time</option>
 <option>Sidereal Time</option>
 </select>
 <INPUT type="text" size="9" name="sel_time" value="" onchange="noupdate()">
</td>
<td align="center">
 <select name="local_diff_opt" onchange="rewrite1()">
 <option SELECTED>UTC-Civil</option>
 <option SELECTED>UTC-Local</option>
 <option>Civil-Local</option>
 <option>Eqn. of Time</option>
 </select>
 <INPUT type="text" size="9" name="local_diff" value="" onchange="noupdate()">
</td>
</tr>
<tr>
<td colspan="3" align="center">
<input type="button" name="noon" value="Noon" onclick= "set12(true)">
<input type="button" name="midnight" value="Midnight" onclick= "set12(false)">
<input type="button" name="Default" value="Reset" 
       onclick= "argstr = location.search.substring(1,location.search.length);reset1()">
</td>
</tr>
<tr><td align="center" colspan="3">
<b><a href="notes.html#Compute">Compute Ephemeris</a></b>
<input type="button" name="sun" value="Sun"
       onclick="doSun(observer,0)">
<input type="button" name="moon" value="Moon"
       onclick="doMoon(observer,false)">
<input type="button" name="planets" value="Planets"
       onclick="doPlanets(observer,0)">
<input type="button" name="separation" value="Separation"
       onclick="doAngles(observer)">
<input type="button" name="stars" value="Bright Stars"
       onclick="doStars(observer)">
</td></tr>
<tr><td align="center" colspan="3">
<b>Compute Monthly Ephemeris</b>
<input type="button" name="monthsun" value="Sun"
       onclick="doSun(observer,2)">
<input type="button" name="mmoon" value="Moon"
       onclick="doMoon(observer,2)">
<input type="button" name="mplanets" value="Planets"
       onclick="doPlanets(observer,2)">
</td></tr>
<tr><td align="center" colspan="3">
<b>Repeat Daily Ephemeris</b>
<select name="Times">
<option>1</option><option>2</option><option>3</option><option>4</option>
<option>5</option> <option>6</option><option>7</option><option>8</option>
<option>9</option><option>10</option> <option>11</option><option>12</option>
<option>13</option><option>14</option><option>15</option> <option>16</option>
<option>17</option><option>18</option><option>19</option><option>20</option>
<option>21</option><option>22</option><option>23</option><option>24</option>
<option>25</option> <option>26</option><option>27</option><option>28</option>
<option>29</option><option>30</option><option>31</option>
</select> times separated by
<select name="Step">
<option>1</option><option>2</option><option>3</option><option>4</option>
<option>5</option> <option>6</option><option>7</option><option>8</option>
<option>9</option><option>10</option> <option>11</option><option>12</option>
<option>13</option><option>14</option><option>15</option> <option>16</option>
<option>17</option><option>18</option><option>19</option><option>20</option>
<option>21</option><option>22</option><option>23</option><option>24</option>
<option>25</option> <option>26</option><option>27</option><option>28</option>
<option>29</option><option>30</option><option>31</option>
</select>&nbsp;days for
<input type="button" name="sun" value="Sun"
       onclick="doSun(observer,1)">
<input type="button" name="moon" value="Moon"
       onclick="doMoon(observer,true)">
<input type="button" name="planets" value="Planets"
       onclick="doPlanets(observer,1)">
</td>
</tr>
</table>
<table class="bluebox" border="1" cellpadding="5">
<tr>
<th colspan="3">User Defined Object</th>
</tr>
<tr>
<td align="center">
  RA <INPUT type="text" size="5" name="ra" value="00:00" onchange="convertra()">
  Dec <INPUT type="text" size="6" name="dec" value="+00:00" onchange="convertra()">
</td>
<td align="center">
<input type="button" name="convra" value="<-" onclick="convertaa()">
<input type="button" name="convaa" value="->" onclick="convertra()">
</td>
<td align="center">
  Alt <INPUT type="text" size="6" name="alt" value="00:00">
  Az <INPUT type="text" size="6" name= "az" value="00:00">
</td>
</tr>
</table>
</form>
</center>


</body></html>
